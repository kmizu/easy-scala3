# 第1章 Scalaと出会おう

## はじめに

プログラミングの世界へ、ようこそ！

この章では、あなたが生まれて初めてプログラムを書くところから始めます。「プログラムって何？」「どうやって動かすの？」といった疑問に一つ一つ答えながら、ゆっくりと進んでいきましょう。

最初は誰でも初心者です。焦らず、楽しみながら学んでいきましょう！

## プログラムって何だろう？

### 身近な例で考えてみよう

プログラムは、コンピュータへの「お願いリスト」のようなものです。

例えば、友達に「コンビニでお茶を買ってきて」とお願いするとき、こんな風に伝えますよね：

1. コンビニに行って
2. 飲み物コーナーを探して
3. お茶を選んで
4. レジでお金を払って
5. 買ったお茶を持って帰ってきて

プログラムも同じです。コンピュータに「これをやって、次にあれをやって」と順番に指示を出していきます。

### なぜScalaを選ぶの？

プログラミング言語はたくさんあります（日本語、英語、中国語のように！）。その中でScalaを選ぶ理由は：

- **間違いを見つけやすい**：書いている途中で「ここ、おかしいよ」と教えてくれます
- **日本語が使える**：変数名（後で説明します）に日本語が使えるので、最初は日本語で書いてもOK
- **ステップアップしやすい**：簡単なことから始めて、徐々に高度なことができるようになります

## Scalaを使えるようにしよう

### まず最初に：「ターミナル」って何？

プログラムを動かすには「ターミナル」（黒い画面）を使います。

**Windowsの場合**：
1. キーボードの「Windowsキー」を押す
2. 「cmd」と入力
3. 「コマンドプロンプト」をクリック

**Macの場合**：
1. 「アプリケーション」フォルダを開く
2. 「ユーティリティ」フォルダを開く  
3. 「ターミナル」をダブルクリック

黒い画面（または白い画面）が出てきましたか？これがターミナルです！

### Javaの確認（必要なもの その1）

Scalaを動かすには「Java」というソフトが必要です。まず、Javaが入っているか確認しましょう。

ターミナルに以下の文字を**そのまま**入力して、Enterキーを押してください：

```bash
java -version
```

何か英語がたくさん出てきましたか？

**こんな感じの表示が出たらOK**：
```
java version "11.0.19" 
（以下、英語が続く...）
```

**「コマンドが見つかりません」と出た場合**：
Javaがまだ入っていません。次の手順でインストールしましょう。

### Javaのインストール（必要な場合のみ）

**Windowsの場合**：
1. ブラウザで「Java 11 ダウンロード」と検索
2. 「Oracle JDK 11」または「OpenJDK 11」のページを開く
3. 「Windows x64 Installer」をクリックしてダウンロード
4. ダウンロードしたファイルをダブルクリック
5. 「次へ」を何回かクリックしてインストール

**Macの場合**：
1. ターミナルに以下を入力してEnter：
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```
2. しばらく待つ（5分くらいかかるかも）
3. 終わったら、これを入力してEnter：
```bash
brew install openjdk@11
```

**よくわからない場合**：
詳しい人に聞くか、「Java 11 インストール方法 [あなたのOS名]」で検索してみてください。

### Scalaのインストール

#### Windowsの場合

1. ブラウザで「Scala 公式サイト」と検索
2. 「Download」または「ダウンロード」をクリック  
3. 「Download for Windows」をクリック
4. ダウンロードしたファイル（scala-3-...-.msi みたいな名前）をダブルクリック
5. 「Next」を何回かクリックしてインストール

#### Macの場合

ターミナルに以下を**1行ずつ**入力してEnter（コピー&ペーストでもOK）：

```bash
brew install coursier/formulas/coursier
```

しばらく待ってから：

```bash
cs setup
```

「Press Enter」と出たらEnterキーを押す。

### インストールできたか確認しよう

**重要**：ターミナルを一度閉じて、新しく開き直してください！

新しいターミナルで以下を入力してEnter：

```bash
scala --version
```

こんな表示が出たら成功です！
```
Scala 3.3.1
```

数字が少し違っても（3.2.0とか3.4.0とか）大丈夫です。

## はじめてのScala - 電卓として使ってみよう！

### Scalaを起動する

ターミナルで、以下の5文字を入力してEnterキーを押してください：

```bash
scala
```

すると、こんな画面になります：

```
Welcome to Scala 3.3.1 ...
（英語がいろいろ書いてある）

scala> 
```

`scala>` の後ろでカーソルが点滅していますね？ここに計算式を書けます！

### 最初の計算をしてみよう

`scala>` の後ろに `1 + 1` と入力して、Enterキーを押してみてください：

```scala
scala> 1 + 1
```

Enterを押すと...

```scala
val res0: Int = 2
```

やった！答えが出ました。`2` ですね。

**何が起きたの？**
- あなたが「1 + 1を計算して」とお願いした
- Scalaが計算して「答えは2だよ」と教えてくれた
- ついでに `res0` という名前で答えを覚えておいてくれた

### もっと計算してみよう

以下を1つずつ入力してEnterを押してみてください：

```scala
scala> 5 * 3
val res1: Int = 15

scala> 10 - 7  
val res2: Int = 3

scala> 20 / 4
val res3: Int = 5
```

電卓みたいに使えますね！
- `*` は「かける」
- `-` は「ひく」  
- `/` は「わる」

### 文字も表示できる！

数字だけじゃなく、文字（文字列）も扱えます。

**注意**：文字を書くときは `""` （ダブルクォーテーション）で囲みます！

```scala
scala> "Hello!"
val res4: String = Hello!

scala> "こんにちは"
val res5: String = こんにちは
```

### 画面に文字を出してみよう

`println` を使うと、画面に文字を表示できます：

```scala
scala> println("こんにちは、Scala！")
こんにちは、Scala！
```

**println って何？**
- print = 印刷する、表示する
- ln = line（行）
- つまり「1行表示して」という命令です

### Scalaを終了する

Scalaを終了するには `:quit` と入力してEnter：

```scala
scala> :quit
```

ターミナルの最初の画面に戻りましたね。お疲れさまでした！

## 初めてのプログラムを作ろう！

今度は「ファイル」にプログラムを書いて実行してみましょう。

### ステップ1：メモ帳を開く

**Windowsの場合**：
1. Windowsキーを押す
2. 「メモ帳」と入力
3. 「メモ帳」をクリック

**Macの場合**：
1. アプリケーション → テキストエディット
2. 「フォーマット」メニュー → 「標準テキストにする」をクリック

### ステップ2：プログラムを書く

以下の4行を**そのまま**入力してください（コピー&ペーストでもOK）：

```scala
// はじめてのプログラム
@main def hello(): Unit = {
  println("Hello, World!")
  println("はじめてのScalaプログラム")
}
```

**重要な注意点**：
- 2行目の `@main` の前にスペースを入れない
- 3行目と4行目の最初に**スペース2個**を入れる（重要！）
- `""` は必ず**半角**で入力

### ステップ3：ファイルを保存

1. 「ファイル」→「名前を付けて保存」
2. ファイル名：`HelloWorld.scala`（最後の`.scala`が大事！）
3. 保存場所：デスクトップ（後で見つけやすいように）
4. 「保存」をクリック

### ステップ4：保存した場所に移動

ターミナルを開いて、以下を入力：

**Windowsの場合**：
```bash
cd Desktop
```

**Macの場合**：
```bash
cd ~/Desktop
```

これで「デスクトップ」フォルダに移動しました。

### ステップ5：プログラムを実行！

いよいよプログラムを動かします。ターミナルで以下を入力してEnter：

```bash
scala HelloWorld.scala
```

数秒待つと...

```
Hello, World!
はじめてのScalaプログラム
```

**おめでとうございます！** 🎉

あなたは今、人生で初めてのプログラムを実行しました！

### 何が起きたの？

1. あなたが書いたプログラムをScalaが読んだ
2. `println("Hello, World!")` を見て、「Hello, World!」を表示した
3. `println("はじめてのScalaプログラム")` を見て、「はじめてのScalaプログラム」を表示した
4. プログラムが終了した

### プログラムの中身を理解しよう

```scala
// はじめてのプログラム         ← これは「コメント」。メモみたいなもの
@main def hello(): Unit = {    ← 「ここからプログラムが始まるよ」という印
  println("Hello, World!")     ← 「Hello, World!」を表示して
  println("はじめてのScalaプログラム") ← 「はじめてのScalaプログラム」を表示して
}
```

- `//` で始まる行は「コメント」。人間用のメモで、実行されません
- `@main` は「スタート地点」を表す魔法の言葉
- `println` は「画面に表示して」という命令

## もう少し面白いプログラムを作ろう

### 「変数」を使ってみよう

変数は「名前付きの箱」のようなものです。データを入れておいて、後で使えます。

新しいプログラムを作りましょう。メモ帳で新しいファイルを作り、以下を入力：

```scala
// あいさつプログラム
@main def greeting(): Unit = {
  val name = "太郎"
  val age = 20
  
  println(s"こんにちは、${name}さん！")
  println(s"あなたは${age}歳ですね。")
  println(s"来年は${age + 1}歳になりますね。")
}
```

これを `Greeting.scala` という名前でデスクトップに保存してください。

### 実行してみよう

ターミナルで：

```bash
scala Greeting.scala
```

結果：

```
こんにちは、太郎さん！
あなたは20歳ですね。
来年は21歳になりますね。
```

### 何が起きたの？

```scala
val name = "太郎"    // 「name」という箱に「太郎」を入れた
val age = 20         // 「age」という箱に「20」を入れた
```

- `val` は「変数を作るよ」という意味
- `name` は変数の名前（箱の名前）
- `=` は「入れる」という意味
- `"太郎"` は入れるデータ

```scala
println(s"こんにちは、${name}さん！")
```

- `s"..."` は「この中で変数を使うよ」という印
- `${name}` は「nameの中身をここに入れて」という意味
- 結果：「こんにちは、太郎さん！」

### 自分の名前に変えてみよう！

1. `Greeting.scala` をメモ帳で開く
2. `"太郎"` を自分の名前に変える
3. `20` を自分の年齢に変える  
4. 保存して、もう一度実行

自分の名前が表示されましたか？これがプログラミングの第一歩です！

## エラーが出たら？心配しないで！

プログラミングでは、エラーは「普通のこと」です。プロでも毎日エラーと付き合っています。

### よくあるエラー1：ファイルが見つからない

```bash
scala HelloWrold.scala  # あれ？「World」のスペルが...
```

こんなエラーが出ます：
```
Error: Source file not found: HelloWrold.scala
```

**意味**：「HelloWrold.scalaっていうファイルが見つからないよ」

**解決方法**：
1. ファイル名のスペルを確認（HelloW**o**rld.scala が正しい）
2. 今いる場所が正しいか確認（デスクトップにいる？）

### よくあるエラー2：日本語入力のままだった

```scala
@main def hello(): Unit = {
　println("Hello, World!")  // あっ、全角スペースが...
}
```

こんなエラーが出ます：
```
error: illegal character '\u3000'
```

**意味**：「変な文字（全角スペース）が入ってるよ」

**解決方法**：
1. 日本語入力をOFFにする
2. スペースを削除して、半角スペースを入れ直す

**コツ**：プログラムを書くときは、基本的に「半角英数」モードで！

### よくあるエラー3：カッコを閉じ忘れた

```scala
@main def hello(): Unit = {
  println("Hello, World!"  // ) を忘れた！
}
```

こんなエラーが出ます：
```
error: ')' expected but end of file found
```

**意味**：「)（閉じカッコ）が必要なのに、ファイルが終わっちゃった」

**解決方法**：
`(` があったら必ず `)` で閉じる。`"` も同じく対で使う。

### エラーが出たときの心構え

1. **慌てない**：エラーは敵じゃない、先生です
2. **エラーメッセージを読む**：英語だけど、大事なヒントが書いてある
3. **1文字ずつ確認**：スペル、スペース、カッコをチェック
4. **それでもダメなら**：最初からもう一度書いてみる

## プログラムの「形」を覚えよう

### 一番シンプルな形

Scalaのプログラムは、この形が基本です：

```scala
@main def プログラム名(): Unit = {
  // ここに「やりたいこと」を書く
  // 好きなだけ書ける
}
```

例：
```scala
@main def myProgram(): Unit = {
  println("私のプログラム")
  println("2行目も書ける")
  println("3行目も！")
}
```

### コメント（メモ）の書き方

プログラムの中にメモを残せます：

```scala
// これはコメント。実行されません
@main def test(): Unit = {
  println("Hello")  // 行の後ろにも書ける
  // println("これは実行されない")
}
```

### 大事！インデント（字下げ）

Scalaでは「スペースの数」に意味があります：

```scala
@main def indentExample(): Unit = {
println("これはエラー！")        // スペースなし = エラー
  println("これはOK")            // スペース2個 = 正しい
    println("これもエラー！")     // スペース4個 = エラー
}
```

**ルール**：
- `@main def ... {` の後、波括弧の中で
- 必ず**スペース2個**を入れる
- すべての行で同じ数のスペース

**なぜ？**
波括弧 `{` と `}` で「ここからここまでが、このプログラムの中身だよ」と明確に示し、スペースで読みやすくしているのです。

## もっと便利にプログラムを書く方法

メモ帳でも十分ですが、もっと便利な「プログラム専用のメモ帳」があります。

### Visual Studio Code（おすすめ）

**インストール方法**：
1. 「VS Code」で検索
2. 公式サイトからダウンロード
3. インストール（全部「次へ」でOK）

**Scala用の設定**：
1. VS Codeを起動
2. 左側の四角いアイコン（拡張機能）をクリック
3. 「Metals」と検索
4. 「Install」をクリック

**何が便利？**
- 色がついて見やすい
- エラーに赤い波線が出る
- 入力の補助をしてくれる

### 今はメモ帳でOK！

最初はメモ帳で十分です。慣れてきたら便利なツールを使いましょう。

## 練習してみよう！

### 練習1：自己紹介プログラム

自分だけの自己紹介プログラムを作ってみましょう。

**やること**：
1. 新しいファイル `Introduction.scala` を作る
2. 以下を参考に、自分の情報でプログラムを書く：

```scala
@main def introduction(): Unit = {
  val name = "あなたの名前"
  val food = "好きな食べ物"
  
  println(s"私の名前は${name}です。")
  println(s"好きな食べ物は${food}です。")
}
```

3. 保存して実行

**できたかな？**
自分の名前と好きな食べ物が表示されれば成功！

### 練習2：計算プログラム

電卓プログラムを作ってみましょう。

**やること**：
1. 新しいファイル `Calculator.scala` を作る
2. 以下のプログラムを完成させる：

```scala
@main def calculator(): Unit = {
  println("=== 計算結果 ===")
  println(s"100 + 200 = ${100 + 200}")
  println(s"50 × 4 = ${50 * 4}")
  println(s"1000 ÷ 8 = ${1000 / 8}")
}
```

**ヒント**：
- かけ算は `*`
- わり算は `/`

### 練習3：エラーを見つけよう

以下のプログラムには3つのエラーがあります。見つけて直してみましょう：

```scala
@main def broken(): Unit = {
  val message = "Hello, Scala!
  println(message)
  println("プログラミングは楽しい"）
}
```

**ヒント**：
1. 2行目の最後に何か足りない？
2. 3行目の最初のスペースは？
3. 4行目の最後の「）」は半角？全角？

**答え合わせ**：
正しく直せたら、エラーなく実行できるはずです。

## この章のまとめ

今日、あなたは大きな一歩を踏み出しました！

### できるようになったこと

✅ ターミナル（黒い画面）を使えるようになった
✅ Scalaをインストールできた
✅ 電卓みたいに計算ができた
✅ プログラムファイルを作って実行できた
✅ 変数（データを入れる箱）を使えた
✅ エラーが出ても慌てなくなった

### 覚えておくこと

1. **プログラムの基本形**：
```scala
@main def 名前(): Unit = {
  // ここに処理を書く（スペース2個！）
}
```

2. **画面に表示**：
```scala
println("表示したい文字")
```

3. **変数を作る**：
```scala
val 名前 = "データ"
```

4. **エラーが出たら**：
- スペルを確認
- 半角/全角を確認
- カッコの対応を確認

### 次の章では...

数の計算をもっと詳しく学びます。
- もっと複雑な計算
- 計算結果を保存する方法
- 便利な計算機能

楽しみにしていてください！

### 最後に

**プログラミングは「慣れ」です。**

最初は難しく感じるかもしれませんが、それは普通のことです。自転車に乗れるようになったときのことを思い出してください。最初は転んでばかりでも、練習すれば必ず乗れるようになりましたよね？

プログラミングも同じです。エラーが出ても、分からないことがあっても、それは成長の証。一歩ずつ進んでいきましょう！

## おまけ：Scalaをもっと便利に使うコツ

### REPLでの便利な機能

**前に入力したものを呼び出す**：
- 上矢印キー（↑）：前の入力を表示
- 下矢印キー（↓）：次の入力を表示

同じ計算を少し変えてやり直すときに便利！

**入力の補助（まだ難しいかも）**：

```scala
scala> "Hello".to  // ここでTabキーを押すと...
toCharArray   toLowerCase   toString   toUpperCase
```

使える命令の候補を表示してくれます。

### 困ったときのコマンド

- `:help` → ヘルプを表示（英語だけど...）
- `:reset` → 最初からやり直し
- `:quit` → Scalaを終了

### プログラムを書くときのコツ

1. **まず動くものを作る**
    - 完璧じゃなくていい
    - 少しずつ改良する

2. **エラーを恐れない**
    - エラー = 学習のチャンス
    - みんな最初はエラーだらけ

3. **コピペも活用**
    - 最初は例をコピーして改造
    - 慣れたら自分で書く

4. **楽しむことが一番大事！**
    - できたときの喜びを大切に
    - 分からないことがあって当然

さあ、次の章へ進みましょう！